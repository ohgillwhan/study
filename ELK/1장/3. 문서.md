# 문서 관리 API
문서 관리 API는 실제 문서를 색인하고 조회, 수정, 삭제를 지원하는 API다.  
이를 이용해 문서를 색인하고 내용을 수정, 삭제할 수 있다.  
검색엔진이기 때문에 검색을 위해 다양한 검색 패턴을 지원하는 Search API를 별도로 제공한다.  
## API 종류
### 단일 API ( Single Document API )
- Index API : 한 건의 문서를 색인한다. 
    - Id 지정해주는 방식 [예제_1](실행예제/문서%20생성.http)  
        아이디를 지정을 하여 원하는 아이디를 갖게한다
    - Id 자동으로 생성되는 방식 [예제_2](실행예제/문서%20생성.http)
        아이디가 자동으로 생성되게 한다.
- Get API : 한 건의 문서를 조회한다.
    - ID값을 지정하여 데이터를 가져오는 방법 [예제_3](실행예제/문서%20조회.http)  
        데이터를 고유 ID를 주어서 가져오는 방법이다.
    - HTTP URI 형태릐 파라미터를 URI에 추가해 검색하는 방법 [예제_4](실행예제/문서%20조회.http)  
        URI 방식은 간단한 쿼리 검색을 하거나 디버깅할 때 간편하게 사용하는 겨웅에 종종 이용한다.    
        방법은 _search?q=검색조건 을 주어서 실행한다  
        특별한 조건을 주지 않고 _search?q=장편 이라는 요청을 하면 모든 필드를 검색한다.
        typeNm이 장편인것을 갖고 싶으면 _search?q=typeNm:장편 을 입력한다.
    - RESTful API 방식인 Query DSL을 사용해 요청 본문에 질의 내용을 추가해 검색하는 방법 [예제_5](실행예제/문서%20조회.http)  
        URI방식 보다 제약사항이 적기 때문에 현업에서는 Restful 방식을 이용한다.  
        쿼리의 조건이 복잡하고 길어지는 경우에는 Restful 방식을 이용해야한다.  
        예제를 보면은 간단한 예제가 포함되어있다.
        아래는 옵션들의 표이다.  
        ```json
      {
        "size": "", # 몇 개의 결과가 반환할지 결정한다 (10개)
        "from": "", # 어느 위치부터 반환할지 결정한다 
        "_source": "", # 특정 필드만 결과로 반환하고 싶을 떄 사용한다
        "sort": "", # 특정 필드를 기준으로 정렬한다
        "query": {  
            # 검색될 조건을 정의한다
         },
        "filter": {
            # 검색 결과 중 특정한 값을 다시 보여준다.
            # 결과 내에서 재검색할 때 사용하는 기능 중 하나다.
            # 다만 필터를 사용하게 되면 자동으로 score 값이 정렬되지 않는다.
         }
      }
        ```
- Update API : 한 건의 문서를 업데이트 한다. [예제](실행예제/문서%20수정.http)
- Delete API : 한 건의 문서를 삭제한다. [예제](실행예제/문서%20삭제.http)
### 다수 PAI
- Multi Get API : 다수의 문서를 조회한다.
- Bulk API : 대량의 문서를 색인한다.
- Delete by Query API : 다수의 문서를 삭제한다.
- Update By Query API : 다수의 문서를 업데이트한다.
- Reindex APUI : 인덱스의 문서를 다시 색인한다.
